{% extends 'base.html' %} {% block title %}Register {% endblock title %}
<p></p>
{% block content %}
<div class="wrapper wrapper-navbar">
    {% include 'components/header.html' %}
    <div class="wrapper-content" style="background: #190c4c">
        <div class="wrapper-content__header"></div>
        <div class="wrapper-content__body">
            <!-- Main variables *content* -->
            <div class="wrapper-content__body">
                <!-- Main variables *content* -->
                <div id="block_21">
                    <div class="services-list">
                        <div class="bg"></div>
                        <div class="divider-top"></div>
                        <div class="divider-bottom"></div>

                        <div class="container">
                            <!-- search bar -->
                            <div class="row">
                                <div class="col">
                                    <div
                                        class="
                                            services-filters
                                            services_filter-margin
                                            component_filter_button
                                            component_filter_form_group
                                            component_filter_card
                                        "
                                    >
                                        <div class="card">
                                            <div class="row">
                                                <div
                                                    class="
                                                        col-md-auto
                                                        mb-3 mb-md-0
                                                    "
                                                >
                                                    <div class="dropdown">
                                                        <a
                                                            class="
                                                                btn
                                                                filter-primary
                                                                w-sm-auto w-100
                                                                dropdown-toggle
                                                            "
                                                            href="#"
                                                            role="button"
                                                            id="dropdownMenuLink"
                                                            data-toggle="dropdown"
                                                            aria-haspopup="true"
                                                            aria-expanded="false"
                                                        >
                                                            <span
                                                                class="
                                                                    far
                                                                    fa-filter
                                                                "
                                                            ></span>
                                                            <span
                                                                class="
                                                                    services-filter__active-category
                                                                "
                                                                data-filter-active-category="true"
                                                            ></span>
                                                        </a>
                                                        <div
                                                            class="
                                                                dropdown-menu
                                                            "
                                                            aria-labelledby="dropdownMenuLink"
                                                        >
                                                            <a
                                                                class="
                                                                    dropdown-item
                                                                "
                                                                href="#"
                                                                data-filter-category-id="All"
                                                                >All</a
                                                            >
                                            {% for category in categories %}

                                                            <a
                                                                class="
                                                                    dropdown-item
                                                                "
                                                                href="{% url 'services'  %}?cat={{category.id}}"
                                                                data-filter-category-id="{{category.id}}"
                                                                data-filter-category-name="{{category.name}}"
                                                                >{{category.name}}</a
                                                            >
                                            {% endfor %}
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <div class="input-group">
                                                        <input
                                                            type="text"
                                                            class="form-control"
                                                            placeholder="Search"
                                                            data-search-service="#service-table-21"
                                                        />
                                                        <span
                                                            class="
                                                                input-group-append
                                                                component_button_search
                                                            "
                                                        >
                                                            <button
                                                                class="
                                                                    btn
                                                                    btn-secondary
                                                                "
                                                                type="button"
                                                                data-filter-serch-btn="true"
                                                            >
                                                                <i
                                                                    class="
                                                                        far
                                                                        fa-search
                                                                    "
                                                                ></i>
                                                            </button>
                                                        </span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- search bar -->

                            <div class="row">
                                <div class="col">
                                    <div class="services-list__table">
                                        <div
                                            class="table-bg component_table"
                                            id="service-table-21"
                                        >
                                            {% for category in categories %}
                                            <!-- table -->
                                            <div
                                                class="
                                                    table-wr table-responsive
                                                    mb-3
                                                "
                                                data-filter-table-wrapper="84"
                                            >
                                                <table class="table">
                                                    <thead>
                                                        <tr>
                                                            <th>ID</th>
                                                            <th class="nowrap">
                                                                Service
                                                            </th>
                                                            <th class="nowrap">
                                                                Rate per 1000
                                                            </th>
                                                            <th class="nowrap">
                                                                Min order
                                                            </th>
                                                            <th class="nowrap">
                                                                Max order
                                                            </th>
                                                            <th
                                                                class="nowrap"
                                                                nowrap=""
                                                            >
                                                                <div
                                                                    class="
                                                                        d-flex
                                                                        align-items-center
                                                                    "
                                                                >
                                                                    <span
                                                                        >Average
                                                                        time</span
                                                                    >
                                                                    <span
                                                                        class="
                                                                            ml-1
                                                                            mr-1
                                                                            fa
                                                                            fa-exclamation-circle
                                                                        "
                                                                        data-toggle="tooltip"
                                                                        data-placement="top"
                                                                        title=""
                                                                        data-original-title="The average time is based on 10 latest completed orders per 1000 quantity."
                                                                    ></span>
                                                                </div>
                                                            </th>
                                                            <th
                                                                class="
                                                                    hidden-xs
                                                                    hidden-sm
                                                                    service-description__th
                                                                "
                                                            >
                                                                Description
                                                            </th>
                                                        </tr>
                                                    </thead>
                                                    <thead>
                                                        <tr>
                                                            <th
                                                                colspan="7"
                                                                class="
                                                                    styles-services-default
                                                                    services-category
                                                                "
                                                            >
                                                                {{category}} 
                                                            </th>
                                                        </tr>
                                                    </thead>

                                                    <tbody>
                                                        {% for service in  category.services %}
                                                        <tr
                                                            data-filter-table-category-id="{{category.id}}"
                                                        >
                                                            <td
                                                                data-label="ID"
                                                                data-filter-table-service-id="{{service.id}}"
                                                            >
                                                            {{service.id}}
                                                            </td>
                                                            <td
                                                                data-label="Service"
                                                                class="
                                                                    table-service
                                                                "
                                                                data-filter-table-service-name="true"
                                                            >
                                                                
                                                                {{service.name}}
                                                            </td>
                                                            <td
                                                                data-label="Rate per 1000"
                                                            >
                                                                {{service.rate}}
                                                            </td>
                                                            <td
                                                                data-label="Min order"
                                                            >
                                                                {{service.min_order}}
                                                            </td>
                                                            <td
                                                                data-label="Max order"
                                                            >
                                                            {{service.max_order}}
                                                            </td>
                                                            <td
                                                                data-label="Average time"
                                                                class="nowrap"
                                                            >
                                                            {% if service.average_time_hours or service.average_time_minutes %}
                                                                
                                                            {% if service.average_time_hours %}
                                                             {{service.average_time_hours}} hours 
                                                            {% endif %}

                                                            {% if service.average_time_minutes %} 
                                                            {{service.average_time_minutes}} minutes 
                                                            {% endif %}

                                                                
                                                            {% else %}
                                                            Not enough data
                                                            {% endif %}
                                                            </td>
                                                            <td
                                                                data-label=""
                                                                class="
                                                                    services-list__description
                                                                "
                                                            >
                                                                <div
                                                                    class="
                                                                        component_button_view
                                                                    "
                                                                >
                                                                    <div
                                                                        class=""
                                                                    >
                                                                        <button
                                                                            class="
                                                                                btn
                                                                                btn-actions
                                                                                btn-view-service-description
                                                                            "
                                                                            data-toggle="modal"
                                                                            data-content-id="#service-description-id-21-{{service.id}}"
                                                                            data-service-id="{{service.id}}"
                                                                            data-service-name="{{service.name}}"
                                                                            data-min="{{service.min_order}}"
                                                                            data-max="{{service.max_order}}"
                                                                            data-target="#service-description-21"
                                                                        >
                                                                            View
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                                <div
                                                                    class="
                                                                        d-none
                                                                    "
                                                                    id="service-description-id-21-{{service.id}}"
                                                                >
                                                                   {{service.description}}
                                                                </div>
                                                            </td>
                                                        </tr>

                                                        {% endfor %}
                                                    </tbody>
                                                </table>
                                            </div>
                                            <!-- table -->

                                            {% endfor %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- uppder modal -->
                    <div
                        class="modal fade"
                        tabindex="-1"
                        role="dialog"
                        id="service-description-21"
                    >
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-body">
                                    <button
                                        class="close"
                                        type="button"
                                        data-dismiss="modal"
                                        aria-label="Close"
                                    >
                                        <i
                                            style="color: #b4c6d3"
                                            class="fas fa-times"
                                        ></i>
                                    </button>
                                    <div
                                        class="service-description-content"
                                    ></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        {% include 'components/footer.html' %}
    </div>
</div>

<style>
    .table thead:last-of-type tr th {
        border-top-width: 0;
        border-bottom-width: 0;
        border-bottom-style: solid;
        border-bottom-color: transparent;
    }
    .table tbody tr:first-child td {
        border-top: 0px;
    }
    .table tbody tr td {
        font-size: 16px !important;
        letter-spacing: 0px !important;
        padding-top: 8px;
        padding-bottom: 8px;
        padding-left: 24px;
        padding-right: 24px;
        vertical-align: middle;
        height: 40px;
        color: #334e6e;
        background: #ffffff;
        border-color: #dbd7e8;
        border-bottom-width: 1px;
        border-bottom-style: solid;
        border-bottom-color: #dbd7e8;
    }
    .table tbody tr:nth-child(odd) td {
        background: #e4e1ee;
    }
    .table {
        margin-bottom: 0px;
        border-top-left-radius: 16px;
        border-top-right-radius: 16px;
        border-bottom-left-radius: 16px;
        border-bottom-right-radius: 16px;
    }
    .table-wr {
        box-shadow: 0 16px 24px 0 rgba(0, 0, 0, 0.08);
        border-top-left-radius: 16px;
        border-top-right-radius: 16px;
        border-bottom-left-radius: 16px;
        border-bottom-right-radius: 16px;
    }
    .component_table .table thead:nth-child(2) tr th.services-category {
        font-weight: 700;
        font-size: 24px;
        background: #e4e1ee;
        padding-top: 24px;
        padding-left: 18px !important;
        padding-right: 18px !important;
        padding-bottom: 12px;
    }
    .table thead:first-child tr th {
        font-size: 14px;
        letter-spacing: 0px;
        padding-top: 16px;
        padding-bottom: 16px;
        padding-right: 24px;
        padding-left: 24px;
        border-top: none;
        border-left: none;
        border-right: none;
        vertical-align: middle;
        height: 56px;
        border-bottom-width: 0px;
        border-bottom-style: solid;
        border-bottom-color: transparent;
        color: #61768e !important;
        background: #ffffff !important;
    }
    .filter-primary {
        font-weight: 700;
        font-style: normal;
        font-size: 16px;
        letter-spacing: 0px;
        padding-left: 12px;
        padding-right: 12px;
        padding-top: 8px;
        padding-bottom: 8px;
        color: #ffffff;
        background: #1f0b6c;
        border-color: #000000;
        box-shadow: 0 8px 24px 0 rgba(31, 11, 108, 0.25);
        border-style: none;
        border-top-left-radius: 12px;
        border-top-right-radius: 12px;
        border-bottom-left-radius: 12px;
        border-bottom-right-radius: 12px;
        border-left-width: 0px;
        border-right-width: 0px;
        border-top-width: 0px;
        border-bottom-width: 0px;
    }
</style>
{% endblock content %}
